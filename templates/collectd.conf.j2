# This file was generated by Ansible for {{ansible_fqdn}}
# Do NOT modify this file by hand!

# General options
Interval     {{ collectd_interval }}
ReadThreads  {{ collectd_readthreads }}
{% if collectd_hostname %}Hostname {{ collectd_hostname }}
{% endif %}
FQDNLookup {{ 'true' if collectd_fdqnlookup else 'false' }}

# Default plugins
{% for plugin in collectd_default_plugins %}
LoadPlugin {{ plugin }}
{% if collectd_default_plugins_options.get(plugin) %}
<Plugin {{plugin}}>
{% for line in collectd_default_plugins_options[plugin] %}
	{{line}}
{% endfor %}
</Plugin>
{% endif %}
{% endfor %}

# User plugins
{% for plugin in collectd_plugins %}
LoadPlugin {{ plugin }}
{% if collectd_plugins_options.get(plugin) %}
<Plugin {{plugin}}>
{% for line in collectd_plugins_options[plugin] %}
	{{line}}
{% endfor %}
</Plugin>
{% endif %}
{% endfor %}

{% if collectd_write_graphite %}
# Carbon
LoadPlugin write_graphite
<Plugin write_graphite>
  <Node "{{inventory_hostname}}">
{% for name, value in collectd_write_graphite_options.items() %}
    {{ name }} "{{ value }}"
{% endfor %}
  </Node>
</Plugin>
{% endif %}
